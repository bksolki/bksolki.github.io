{"version":3,"sources":["serviceWorker.js","components/layout/Header.js","components/layout/Sidebar.js","actionRedux/types/index.js","actionRedux/promotions.js","components/page/checkBill/checkBill.js","actionRedux/auth.js","components/page/reservations/reservations.js","components/page/setting/addPromotionModal.js","components/page/setting/promotion.js","components/page/setting/member.js","components/page/setting/userAdmin.js","components/app.js","components/auth/login.js","components/auth/logout.js","components/auth/RequireAuth.js","components/auth/404.js","routes.js","reducers/user/index.js","reducers/user/authReducer.js","reducers/user/userReducer.js","reducers/user/promotions.js","store.js","index.js"],"names":["Boolean","window","location","hostname","match","Header","react_default","a","createElement","Link","to","this","props","authenticated","className","React","Component","connect","state","auth","SubMenu","Menu","menuData","themeDefault","Sidebar","theme","current","submenu","handleClick","e","key","_this","history","push","setState","changeTheme","value","menuChange","data","url","pathname","last","lastIndexOf","result","substring","id","lib_default","format","ticking","timezone","es_switch","size","checked","onChange","checkedChildren","unCheckedChildren","menu","onOpenChange","onClick","style","width","height","defaultOpenKeys","selectedKeys","mode","Item","icon","type","title","AUTH_USER","UNAUTH_USER","LOGIN_LOADING","FETCH_PROMOTIONS","ADD_PROMOTIONS","EDIT_PROMOTIONS","DEL_PROMOTIONS","SHOW_MODAL_PROMOTIONS","HIDE_MODAL_PROMOTIONS","getPromotion","JSON","parse","localStorage","getItem","payload","promotionData","addPromotion","lastIndex","length","newData","createDate","lastUpdate","moment","setItem","stringify","editPromotion","i","deletePromotion","filter","obj","showModalPromotion","hideModalPromotion","Option","Select","formItemLayout","labelCol","xs","span","sm","wrapperCol","totalPrice","borderBottom","bill","textRight","textAlign","CheckBill","pricePerson","promotionSelect","totalCustomers","promotionMessage","discountPrice","promotionApply","visible","promotionsChange","val","customersChange","parseInt","calculatorPrice","customers","promotions","self","Object","assertThisInitialized","_this$state","Total","discountPerson","discountPercent","price","toLocaleString","couponCode","minPrice","minCustomers","maxCustomers","handleOk","handleSubmit","preventDefault","form","validateFields","err","values","nextProps","nextState","getFieldDecorator","_this$state2","es_form","onSubmit","assign","label","rules","required","message","initialValue","input_number","min","max","precision","hasFeedback","validateStatus","es_select","map","offset","es_button","htmlType","row","col","modal","onOk","onCancel","footer","loading","Form","create","actions","authError","CONST","error","loginLoad","PromotionInitData","loginUser","dispatch","token","iat","Date","setTimeout","logoutUser","removeItem","Reservations","AddPromotionModal","modalData","handleCancel","_this$props","isEmpty","input","confirm","Modal","Promotion","pagination","sortedInfo","handleTableChange","filters","sorter","okText","okType","cancelText","showModal","_this2","columns","dataIndex","b","sortOrder","columnKey","order","render","text","record","href","divider","marginBottom","table","dataSource","addPromotionModal","Member","UserAdmin","App","layout_Header","Switch","Route","exact","path","component","layout_Sidebar","FormItem","Login","iconLoading","businessId","enterLoading","enterIconLoading","time","submitTime","objectSpread","user","fieldsError","_this$props$form","getFieldsError","getFieldError","isFieldTouched","userNameError","passwordError","d","help","prefix","color","placeholder","disabled","keys","some","field","errorMessage","Logout","RequireAuth","NextComponent","Authentication","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","Page404","Routes","login","logout","requireAuth","rootReducer","combineReducers","undefined","action","list","middleware","thunk","store","createStore","reducer","applyMiddleware","DOM","document","getElementById","ReactDOM","es","BrowserRouter","routes_Routes","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8d329f93.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass Header extends React.Component {\r\n\r\n  render() {\r\n    const UserName = \"UserNames\"\r\n\r\n    return (\r\n      <header>\r\n        <Link to={this.props.authenticated ? '/' : '/'} className=\"logo\">{UserName}</Link>\r\n          <nav>\r\n            {\r\n              this.props.authenticated ?\r\n                <ul>\r\n                  {/* <li>\r\n                    <Link to=\"/reduxauth/users\">Users</Link>\r\n                  </li> */}\r\n                  <li>\r\n                    <Link to=\"/logout\">Signout</Link>\r\n                  </li>\r\n                </ul>\r\n                : null\r\n            }\r\n          </nav>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { authenticated: state.auth.authenticated };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react'\r\nimport { Menu, Icon, Switch } from 'antd';\r\nimport Clock from 'react-live-clock'\r\n// import PropTypes from 'prop-types'\r\n\r\nconst SubMenu = Menu.SubMenu;\r\nlet menuData = []\r\nlet themeDefault = 'dark'\r\n\r\nclass Sidebar extends React.Component {\r\n    state = {\r\n        theme: themeDefault,\r\n        current: [],\r\n        submenu : menuData\r\n    }\r\n\r\n    componentDidMount(){\r\n        let url = this.props.history.location.pathname\r\n        let last = url.lastIndexOf('/');\r\n        let result = url.substring(last + 1);  \r\n        if(result) this.setState({ current : [result] })\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        // console.log('e key = '+e.key);\r\n        if(e.key !== 'control'){\r\n            this.props.history.push('/control/'+e.key)\r\n        }else this.props.history.push('/control')\r\n        this.setState({ current : [e.key] })\r\n    }\r\n\r\n    changeTheme = (value) => {\r\n        themeDefault = value ? 'dark' : 'light'\r\n        this.setState({theme: value ? 'dark' : 'light' })\r\n    }\r\n\r\n    menuChange = (data) =>{\r\n        menuData = data\r\n    }\r\n\r\n    render(){\r\n        // console.log(this.state);\r\n        return(\r\n            <div id=\"left-sidebar\">    \r\n                <div className=\"clock-time\">\r\n                    <Clock format={'DD/MM/YY HH:mm:ss'} ticking={true} timezone={'Asia/Bangkok'} />\r\n                    <Switch\r\n                        size=\"small\"\r\n                        checked={this.state.theme === 'dark'}\r\n                        onChange={this.changeTheme}\r\n                        checkedChildren=\"Dark\"\r\n                        unCheckedChildren=\"Light\"\r\n                    />\r\n                </div>            \r\n                <Menu\r\n                    onOpenChange={this.menuChange}\r\n                    theme={this.state.theme}\r\n                    onClick={this.handleClick}\r\n                    style={{ width: 180, height: '100vh' }}\r\n                    defaultOpenKeys={this.state.submenu}\r\n                    selectedKeys={this.state.current}\r\n                    mode=\"inline\"\r\n                >                \r\n                    <Menu.Item key=\"check-bill\">\r\n                        <Icon type=\"audit\" />Check bill\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"reservations\">\r\n                        <Icon type=\"qrcode\" />Reservations\r\n                    </Menu.Item>\r\n                    <SubMenu key=\"sub1\" title={<span><Icon type=\"setting\" /><span>Setting</span></span>}>\r\n                        <Menu.Item key=\"setting-promotion\">Promotion</Menu.Item>\r\n                        <Menu.Item key=\"setting-member\">Member</Menu.Item>\r\n                        <Menu.Item key=\"setting-userAdmin\">User Admin</Menu.Item>\r\n                    </SubMenu>\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar","export const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\n\r\nexport const RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD';\r\nexport const RESET_PASSWORD_FAILURE = 'RESET_PASSWORD_ERROR';\r\nexport const VERIFY_RESET_PASSWORD_SUCCESS = 'VERIFY_RESET_PASSWORD_SUCCESS';\r\nexport const VERIFY_RESET_PASSWORD_FAILURE = 'VERIFY_RESET_PASSWORD_FAILURE';\r\n\r\nexport const AUTH_USER = 'AUTH_USER';\r\nexport const UNAUTH_USER = 'UNAUTH_USER';\r\nexport const LOGIN_LOADING = 'LOGIN_LOADING';\r\n\r\nexport const FETCH_USERS = 'FETCH_USERS';\r\n\r\nexport const FETCH_PROMOTIONS = 'FETCH_PROMOTIONS';\r\nexport const ADD_PROMOTIONS = 'ADD_PROMOTIONS';\r\nexport const EDIT_PROMOTIONS = 'EDIT_PROMOTIONS';\r\nexport const DEL_PROMOTIONS = 'DEL_PROMOTIONS';\r\nexport const SHOW_MODAL_PROMOTIONS = 'SHOW_MODAL_PROMOTIONS';\r\nexport const HIDE_MODAL_PROMOTIONS = 'HIDE_MODAL_PROMOTIONS';\r\n","import {\r\n  FETCH_PROMOTIONS,\r\n  ADD_PROMOTIONS,\r\n  EDIT_PROMOTIONS,\r\n  DEL_PROMOTIONS,\r\n  SHOW_MODAL_PROMOTIONS,\r\n  HIDE_MODAL_PROMOTIONS,\r\n} from './types/index'\r\nimport moment from 'moment'\r\n\r\nexport function getPromotion() {\r\n  let data = JSON.parse(localStorage.getItem('promotions'));\r\n  return { type: FETCH_PROMOTIONS, payload: data.promotionData }\r\n}\r\n\r\nexport function addPromotion(props) {\r\n  if(props){\r\n    let data = JSON.parse(localStorage.getItem('promotions'))\r\n        data = data.promotionData\r\n    let lastIndex = data.length-1\r\n    let newData = props\r\n        newData.key = data[lastIndex].key+1\r\n        newData.createDate = newData.lastUpdate = moment().format('DD-MM-YYYY, HH:mm')\r\n        data.push(newData)\r\n    localStorage.setItem('promotions', JSON.stringify({ promotionData : data }))\r\n    return { type: ADD_PROMOTIONS, payload: data}\r\n  }\r\n}\r\n\r\nexport function editPromotion(props) {\r\n  if(props){\r\n    let data = JSON.parse(localStorage.getItem('promotions'))\r\n        data = data.promotionData\r\n        for(let i = 0; i < data.length; i++){\r\n          if(data[i].key === props.key){\r\n            props.createDate = data[i].createDate\r\n            data[i] = props\r\n            data[i].lastUpdate = moment().format('DD-MM-YYYY, HH:mm')\r\n          }\r\n        }\r\n    localStorage.setItem('promotions', JSON.stringify({ promotionData : data }))\r\n    return { type: EDIT_PROMOTIONS, payload: data}\r\n  }\r\n}\r\n\r\nexport function deletePromotion(props) {\r\n  if(props){\r\n    let data = JSON.parse(localStorage.getItem('promotions'))\r\n        data = data.promotionData\r\n        data = data.filter(function(obj) {\r\n          return obj.key !== props.key\r\n        })\r\n    localStorage.setItem('promotions', JSON.stringify({ promotionData : data }))\r\n    return { type: DEL_PROMOTIONS, payload: data }\r\n  }\r\n}\r\n\r\nexport function showModalPromotion() {\r\n  return { type: SHOW_MODAL_PROMOTIONS, payload: true }\r\n}\r\nexport function hideModalPromotion() {\r\n  return { type: HIDE_MODAL_PROMOTIONS, payload: false }\r\n}\r\n","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/promotions'\r\nimport { parseInt } from 'lodash'\r\n\r\nimport { Row, Col, Form, Select, InputNumber , Button, Modal } from 'antd'\r\nimport moment from 'moment'\r\n\r\nconst { Option } = Select\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 5 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 12 },\r\n  },\r\n};\r\n\r\nconst style = {\r\n  totalPrice : {\r\n    borderBottom: '1px solid #000'\r\n  },\r\n  bill : { borderBottom: '3px double'},\r\n  textRight : { textAlign : 'right'}\r\n}\r\n\r\nclass CheckBill extends React.Component {\r\n  state = {\r\n    promotionData : [],\r\n    totalPrice : 459,\r\n    pricePerson : 459,\r\n    promotionSelect : null,\r\n    totalCustomers : 1,\r\n    promotionMessage : \"\",\r\n    discountPrice : 0,\r\n    promotionApply : false,\r\n    visible: false\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState){\r\n    if(this.state.promotionSelect !== nextState.promotionSelect || this.state.totalCustomers !== nextState.totalCustomers){\r\n      this.calculatorPrice(nextState.totalCustomers, nextState.promotionSelect)\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.getPromotion()\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(nextProps.data) {\r\n        this.setState({ promotionData: nextProps.data })\r\n    }\r\n  }\r\n\r\n  promotionsChange = (val) =>{\r\n    this.setState({ promotionSelect : val })\r\n  }\r\n\r\n  customersChange = (val) =>{\r\n    this.setState({ totalCustomers : parseInt(val) })\r\n  }\r\n\r\n  calculatorPrice = (customers, promotions) =>{\r\n    const self = this\r\n    const { totalPrice , pricePerson, promotionData } = this.state\r\n    \r\n    if(customers){\r\n      var result\r\n\r\n      function Total(discountPerson, discountPercent){\r\n        let price = customers * pricePerson,\r\n            discountPrice = 0\r\n        if(discountPercent){\r\n          discountPrice = (price * discountPercent/100)\r\n          price = price - discountPrice\r\n        }\r\n\r\n        if(discountPerson){\r\n          discountPrice = (discountPerson * pricePerson)\r\n          price = price - discountPrice\r\n        }\r\n\r\n        if(price !== totalPrice || discountPrice === 0){          \r\n          self.setState({ totalPrice : price.toLocaleString() , discountPrice: discountPrice })\r\n        }\r\n        \r\n        result = price\r\n      }\r\n      Total()\r\n\r\n      if(promotions){\r\n        this.setState({ promotionMessage : \"\" })\r\n        let data = promotionData.filter(obj => {\r\n          return obj.couponCode === promotions\r\n        })[0]\r\n\r\n        if(data.minPrice){\r\n          if(result < data.minPrice){\r\n            this.setState({ promotionMessage : \"จำนวนเงินไม่ถึงขั้นต่ำที่กำหนด (\"+data.minPrice.toLocaleString()+\" บาท)\" })            \r\n            return false\r\n          }else Total()\r\n        }\r\n\r\n        if(data.minCustomers || data.maxCustomers){\r\n          if(customers < data.minCustomers){\r\n            this.setState({ promotionMessage : \"จำนวนลูกค้าไม่ถึงขั้นต่ำที่กำหนด (\"+data.minCustomers+\" คน)\" })\r\n            return false\r\n          }else if(customers > data.maxCustomers && data.maxCustomers !== 0){\r\n            this.setState({ promotionMessage : \"จำนวนลูกค้าเกินจำนวนที่กำหนด (\"+data.maxCustomers+\" คน)\" })\r\n            return false\r\n          }else Total()\r\n        }\r\n\r\n        if(data.discountPercent){\r\n          this.setState({ promotionMessage : \"Discount (\"+data.discountPercent+\"%)\" })\r\n          Total(null, data.discountPercent)\r\n        }else if(data.discountPerson){\r\n          this.setState({ promotionMessage : \"Discount จำนวนลูกค้า (\"+data.discountPerson+\" ท่าน)\" })\r\n          Total(data.discountPerson, null)\r\n        }else{\r\n          return false\r\n        }\r\n\r\n      }else Total()   \r\n    }\r\n  }\r\n\r\n  handleOk = (e) => {\r\n    this.setState({ visible: false })\r\n  }\r\n  \r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.setState({ visible: true })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    const { promotionData, totalPrice, promotionMessage, totalCustomers, discountPrice, pricePerson } = this.state\r\n\r\n    return (\r\n        <div>\r\n          <h5>Buffet per person as 459 baht.</h5>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Form.Item {...formItemLayout} label=\"Number customers\">\r\n              {getFieldDecorator('customers', {\r\n                rules: [{\r\n                  required: true, message: 'Please input customers'\r\n                }],\r\n                initialValue: 1\r\n              })(\r\n                <InputNumber size=\"large\" min={1} max={100} onChange={this.customersChange} precision={0}/>\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item  {...formItemLayout}  label=\"Select Promotion\" hasFeedback validateStatus={null}>\r\n              {getFieldDecorator('promotions', {\r\n                rules: [],\r\n              })(\r\n                <Select onChange={this.promotionsChange}>\r\n                  { promotionData.map((val,i) => \r\n                      <Option value={val.couponCode} key={i}>{val.couponCode}</Option>\r\n                    )\r\n                  }\r\n                </Select>\r\n              )}\r\n              <h5>{promotionMessage}</h5>\r\n            </Form.Item>\r\n            <Form.Item\r\n              wrapperCol={{ span: 12, offset: 5 }}\r\n            >\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                View Billing\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n          <Row>\r\n              <Col span={8} offset={5} >                  \r\n                  <h3>Total price</h3>\r\n                  <h2 style={style.totalPrice}>{totalPrice}</h2>\r\n              </Col>\r\n          </Row>\r\n          <Modal\r\n            visible={this.state.visible}\r\n            onOk={this.handleOk}\r\n            onCancel={this.handleOk}\r\n            footer={[\r\n              <Button key=\"submit\" type=\"primary\" loading={this.state.loading} onClick={this.handleOk}>\r\n                OK\r\n              </Button>,\r\n            ]}\r\n          >\r\n            <h3>Scale 360 Buffet Billing</h3>\r\n            <h4>ใบเรียกเก็บเงิน</h4>\r\n            <Row>\r\n              <Col span={12}>เลขที่ : Re-001</Col>\r\n              <Col span={12}>โต๊ะ : โต๊ะ 001</Col>\r\n            </Row>            \r\n            <Row>\r\n              <Col span={24}>วันที่-เวลา : {moment().format('DD-MM-YYYY, HH:mm')}</Col>\r\n            </Row>\r\n            <hr/>\r\n            <Row>\r\n              <Col span={8}>รายการ</Col>\r\n              <Col span={8}>จำนวน</Col>\r\n              <Col span={8} className=\"text-right\">ราคา</Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={8}>บุฟเฟต์ 459</Col>\r\n              <Col span={8}>{totalCustomers}</Col>\r\n              <Col span={8} className=\"text-right\">{(totalCustomers * pricePerson).toLocaleString()}</Col>\r\n            </Row>\r\n            <hr/>\r\n            <Row>\r\n              <Col span={8} offset={8}>ส่วนลด</Col>\r\n              <Col span={8} className=\"text-right\">{discountPrice}</Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={8} offset={8}>ยอดก่อนส่วนลด</Col>\r\n              <Col span={8} className=\"text-right\">{(totalCustomers * pricePerson).toLocaleString()}</Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={8} offset={8}>รวมทั้งสิ้น</Col>\r\n              <Col span={8} style={style.bill}><h2 className=\"text-right\">{totalPrice}</h2></Col>\r\n            </Row>\r\n          </Modal>   \r\n        </div>\r\n    )   \r\n  }\r\n}\r\n\r\nCheckBill = Form.create()(CheckBill)\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n    data: state.promotions.data\r\n  }\r\n}\r\nexport default connect(mapStateToProps, actions)(CheckBill)","// import axios from 'axios'\r\n// import { API_URL } from '../config'\r\nimport { notification } from 'antd'\r\nimport {\r\n  LOGIN_FAILURE,\r\n  AUTH_USER,\r\n  UNAUTH_USER,\r\n  LOGIN_LOADING,\r\n} from './types/index'\r\n\r\nexport function authError(CONST, error) {\r\n  return { type: CONST, payload: error }\r\n}\r\n\r\nexport function loginLoad(CONST, error) {\r\n  return { type: CONST, payload: error }\r\n}\r\n\r\nconst PromotionInitData = [\r\n  { key: 1, discountPercent : '15', discountPerson : null, couponCode : 'LUCKY ONE', minPrice : 1000 , minCustomers : null , maxCustomers : null, createDate : \"06-02-2019, 09:00\", lastUpdate : \"06-02-2019, 09:00\" },\r\n  { key: 2, discountPercent :  null, discountPerson : \"1\",  couponCode : '4PAY3', minPrice : null , minCustomers : 4 , maxCustomers : 4, createDate : \"06-02-2019, 09:00\", lastUpdate : \"06-02-2019, 09:00\" },\r\n  { key: 3, discountPercent : '20', discountPerson : null, couponCode : 'LUCKY TWO', minPrice : null , minCustomers : 2 , maxCustomers : 2, createDate : \"06-02-2019, 09:00\", lastUpdate : \"06-02-2019, 09:00\" },\r\n  { key: 4, discountPercent : '25', discountPerson : null, couponCode : '6000up', minPrice : 6000 , minCustomers : null , maxCustomers : null, createDate : \"06-02-2019, 09:00\", lastUpdate : \"06-02-2019, 09:00\" }\r\n]\r\n\r\nexport function loginUser(props) {\r\n  return function (dispatch) {\r\n    const openNotification = (err) => {\r\n      if (err){\r\n        notification.open({\r\n          message: 'Connect Fail !',\r\n          description: '::' + err,\r\n        })\r\n      }else{\r\n        notification.open({\r\n          message: 'Login Fail !',\r\n          description: \"username or password isn't right\",\r\n        })\r\n      }\r\n    }\r\n\r\n    // const obj = { \r\n    //   \"username\" : props.username , \r\n    //   \"password\" : props.password \r\n    // }\r\n\r\n    // console.log(props);\r\n    dispatch(loginLoad(LOGIN_LOADING, true))\r\n    localStorage.setItem('user', JSON.stringify({ token: \"test\", iat: new Date() }, 'test-secret'))\r\n    localStorage.setItem('promotions', JSON.stringify({ promotionData : PromotionInitData }))\r\n    dispatch({ type: AUTH_USER })\r\n    setTimeout(function(){ \r\n      props.history.push(\"/control/check-bill\") \r\n    }, 1500)\r\n    \r\n    // axios.post(`${API_URL}/login`, obj , { withCredentials: true })\r\n    // .then(response => {\r\n    //   if (response.data){\r\n    //     if (response.data.result) {\r\n    //         localStorage.setItem('user', JSON.stringify(response.data))\r\n    //         dispatch({ type: AUTH_USER })\r\n    //         props.history.push(\"/control\")\r\n    //     }else{\r\n    //       openNotification()\r\n    //       dispatch(authError(LOGIN_FAILURE, \"username or password isn't right\"))\r\n    //       dispatch(loginLoad(LOGIN_LOADING, false))\r\n    //     }\r\n    //   }\r\n    // })\r\n    // .catch(error => {\r\n    //   openNotification(error)\r\n    //   dispatch(authError(LOGIN_FAILURE, \"connection error\"))\r\n    //   dispatch(loginLoad(LOGIN_LOADING, false))\r\n    // })\r\n  }\r\n}\r\n\r\nexport function logoutUser(props) {\r\n  return function (dispatch) {\r\n    localStorage.removeItem('user')\r\n    dispatch({ type: UNAUTH_USER })\r\n    props.history.push(\"/\")\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/auth'\r\n\r\nclass Reservations extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n        <div>TEST Reservations</div>\r\n    )\r\n  }\r\n}\r\nexport default connect(null, actions)(Reservations)","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/promotions'\r\n\r\nimport { Button, Form, Modal, InputNumber, Input } from 'antd'\r\nimport { isEmpty } from 'lodash'\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 10 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 14 },\r\n  },\r\n}\r\n\r\nclass AddPromotionModal extends React.Component {\r\n    state = {\r\n        loading: false,\r\n    }\r\n\r\n    handleOk = (e) => {\r\n        e.preventDefault()\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.setState({ loading: true })\r\n                setTimeout(() => {\r\n                    this.setState({ loading: false })\r\n                    this.props.hideModalPromotion()\r\n                    if(this.props.modalData){\r\n                        const key = this.props.modalData.key\r\n                        if(key){\r\n                            values.key = key\r\n                            this.props.editPromotion(values)\r\n                        }else{\r\n                            this.props.addPromotion(values)\r\n                        }\r\n                    }\r\n                }, 1000)\r\n\r\n                // this.props.hideModalPromotion()\r\n                // this.props.addPromotion(values)\r\n                // console.log('Received values of form: ', values)\r\n            }\r\n        })\r\n        \r\n    }\r\n    \r\n    handleCancel = (e) => {\r\n        this.props.hideModalPromotion()\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form\r\n        const { visible, modalData } = this.props\r\n\r\n        return (\r\n            <div>\r\n                <Modal  \r\n                    title=\"Add Promotion\"\r\n                    visible={visible}\r\n                    onOk={this.handleOk}\r\n                    onCancel={this.handleCancel}\r\n                    footer={[\r\n                        <Button key=\"back\" onClick={this.handleCancel}>Cancel</Button>,\r\n                        <Button key=\"submit\" type=\"primary\" loading={this.state.loading} onClick={this.handleOk}>\r\n                            {isEmpty(modalData) ? 'Add':'Save Edit'}\r\n                        </Button>,\r\n                    ]}\r\n                >\r\n                    <Form>\r\n                        <Form.Item {...formItemLayout} label=\"Coupon Code\">\r\n                            {getFieldDecorator('couponCode', {\r\n                                rules: [{\r\n                                    required: true, message: 'Please input coupon code'\r\n                                }],\r\n                                initialValue: modalData.couponCode ? modalData.couponCode : \"\",\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item {...formItemLayout} label=\"Discount %\">\r\n                            {getFieldDecorator('discountPercent', {\r\n                                rules: [],\r\n                                initialValue: modalData.discountPercent ? modalData.discountPercent : 0,\r\n                            })(\r\n                                <InputNumber min={0} max={100} precision={0}/>\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item {...formItemLayout} label=\"Discount Person\">\r\n                            {getFieldDecorator('discountPerson', {\r\n                                rules: [],\r\n                                initialValue: modalData.discountPerson ? modalData.discountPerson : 0,\r\n                            })(\r\n                                <InputNumber min={0} max={100} precision={0}/>\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item {...formItemLayout} label=\"Min Price\">\r\n                            {getFieldDecorator('minPrice', {\r\n                                rules: [],\r\n                                initialValue: modalData.minPrice ? modalData.minPrice : 0,\r\n                            })(\r\n                                <InputNumber min={0} precision={0}/>\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item {...formItemLayout} label=\"Min customers\">\r\n                            {getFieldDecorator('minCustomers', {\r\n                                rules: [],\r\n                                initialValue:  modalData.minCustomers ? modalData.minCustomers : 0,\r\n                            })(\r\n                                <InputNumber min={0} max={100} precision={0}/>\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item {...formItemLayout} label=\"Max customers\">\r\n                            {getFieldDecorator('maxCustomers', {\r\n                                rules: [],\r\n                                initialValue: modalData.maxCustomers ? modalData.maxCustomers : 0,\r\n                            })(\r\n                                <InputNumber min={0} max={100} precision={0}/>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nAddPromotionModal = Form.create()(AddPromotionModal)\r\nexport default connect(null, actions)(AddPromotionModal)","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/promotions'\r\n\r\nimport { Table, Row, Col, Button, Modal, Divider } from 'antd'\r\nimport AddPromotionModal from './addPromotionModal';\r\nconst confirm = Modal.confirm\r\n\r\nclass Promotion extends React.Component {\r\n  state = {\r\n    data: [],\r\n    pagination: {},\r\n    loading: false,\r\n    visible: false,\r\n    sortedInfo: {},\r\n    modalData : {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getPromotion()\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(nextProps.data) {\r\n        this.setState({ data: nextProps.data , visible: nextProps.visible })\r\n    }\r\n  }\r\n\r\n  handleTableChange = (pagination, filters, sorter) => {\r\n    this.setState({ sortedInfo: sorter })\r\n  }\r\n\r\n  editPromotion = (data) =>{\r\n    this.props.showModalPromotion()\r\n    this.setState({ modalData: data })\r\n  }\r\n\r\n  deletePromotion = (data) =>{\r\n    const { props } = this\r\n    confirm({\r\n      title: 'Are you sure delete \"'+data.couponCode+'\" ?',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      onOk() {\r\n        props.deletePromotion(data)\r\n      },\r\n    })\r\n  }\r\n\r\n  showModal = () => {\r\n    this.props.showModalPromotion()\r\n    this.setState({ modalData: {} })\r\n  }\r\n\r\n  render() {\r\n    const { data, pagination, loading, sortedInfo } = this.state\r\n    const columns = [{\r\n      title: 'Coupon Code',\r\n      dataIndex: 'couponCode',\r\n      sorter: (a, b) => a.couponCode.length - b.couponCode.length,\r\n      sortOrder: sortedInfo.columnKey === 'couponCode' && sortedInfo.order,\r\n    }, {\r\n      title: 'Discount %',\r\n      dataIndex: 'discountPercent',\r\n      sorter: (a, b) => a.discountPercent - b.discountPercent,\r\n      sortOrder: sortedInfo.columnKey === 'discountPercent' && sortedInfo.order,\r\n    },{\r\n      title: 'Min Price',\r\n      dataIndex: 'minPrice',\r\n      sorter: (a, b) => a.minPrice - b.minPrice,\r\n      sortOrder: sortedInfo.columnKey === 'minPrice' && sortedInfo.order,\r\n    },{\r\n      title: 'Min Customers',\r\n      dataIndex: 'minCustomers',\r\n      sorter: (a, b) => a.minCustomers - b.minCustomers,\r\n      sortOrder: sortedInfo.columnKey === 'minCustomers' && sortedInfo.order,\r\n    },{\r\n      title: 'Discount Person',\r\n      dataIndex: 'discountPerson',\r\n    },{\r\n      title: 'Create Date',\r\n      dataIndex: 'createDate',\r\n    },{\r\n      title: 'Last Update',\r\n      dataIndex: 'lastUpdate',\r\n    },{\r\n      title: 'Action',\r\n      key: 'action',\r\n      width: 120,\r\n      render: (text, record) => (\r\n        <span>\r\n          <a href=\"javascript:;\" onClick={() => this.editPromotion(record)}>Edit</a>\r\n          <Divider type=\"vertical\" />\r\n          <a href=\"javascript:;\" onClick={() => this.deletePromotion(record)}>Delete</a>\r\n        </span>\r\n      )\r\n    }]\r\n\r\n    return (\r\n      <div>\r\n        <h3>Promotion List</h3>\r\n        <Row>\r\n          <Col> \r\n            <Button type=\"primary\" style={{ marginBottom : 5}} onClick={this.showModal}>Add</Button>\r\n          </Col>\r\n        </Row>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={data}\r\n          pagination={pagination}\r\n          loading={loading}\r\n          onChange={this.handleTableChange}\r\n        />\r\n        <AddPromotionModal {...this.state}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n      data: state.promotions.data,\r\n      visible: state.promotions.visible\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Promotion)","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/auth'\r\n\r\nclass Member extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n        <div>TEST Member</div>\r\n    )\r\n  }\r\n}\r\nexport default connect(null, actions)(Member)","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../../actionRedux/auth'\r\n\r\nclass UserAdmin extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n        <div>TEST UserAdmin</div>\r\n    )\r\n  }\r\n}\r\nexport default connect(null, actions)(UserAdmin)","import React from 'react'\r\nimport Header from './layout/Header'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Sidebar from './layout/Sidebar'\r\n\r\nimport CheckBill from './page/checkBill/checkBill'\r\nimport Reservations from './page/reservations/reservations'\r\nimport Promotion from './page/setting/promotion'\r\nimport Member from './page/setting/member'\r\nimport UserAdmin from './page/setting/userAdmin'\r\n\r\nexport default class App extends React.Component {\r\n    render() {       \r\n        return (\r\n            <div>\r\n                <Header />\r\n                <div className=\"content-with-sidebar\">\r\n                    <Switch>\r\n                        <Route exact path=\"/control/check-bill\" component={CheckBill} />\r\n                        <Route exact path=\"/control/reservations\" component={Reservations} />\r\n                        <Route exact path=\"/control/setting-promotion\" component={Promotion} />\r\n                        <Route exact path=\"/control/setting-member\" component={Member} />\r\n                        <Route exact path=\"/control/setting-userAdmin\" component={UserAdmin} />\r\n                        <Route exact path=\"*\"  render={() => (\r\n                            <div>No Match 404 Page</div>\r\n                        )} />\r\n                    </Switch>\r\n                </div>\r\n                <Sidebar {...this.props}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport { Row, Form , Icon, Input, Button } from 'antd'\r\nimport moment from 'moment'\r\n// import axios from 'axios'\r\n// import hash from 'hash.js'\r\nimport * as actions from '../../actionRedux/auth'\r\nimport { connect } from 'react-redux'\r\n// import { API_URL } from '../../config'\r\n// import { deviceDetect } from 'react-device-detect'\r\n\r\nimport './login.scss';\r\n\r\nconst FormItem = Form.Item\r\nfunction hasErrors(fieldsError) {\r\n    return Object.keys(fieldsError).some(field => fieldsError[field])\r\n}\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        loading: false,\r\n        iconLoading: false,\r\n        businessId : false\r\n    }\r\n\r\n    enterLoading = () => {\r\n        this.setState({ loading: true })\r\n    }\r\n\r\n    enterIconLoading = () => {\r\n        this.setState({ iconLoading: true })\r\n    }\r\n\r\n    componentWillMount(){\r\n        const user = JSON.parse(localStorage.getItem('user'))\r\n        if (user && user.token) {\r\n            this.props.history.push(\"/control/check-bill\")\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (!nextProps.loading) {\r\n            this.setState({ loading: false, iconLoading: false, })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.form.validateFields()\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const time = { submitTime : moment().format() }\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.setState({ iconLoading: true })\r\n                const self = this.props   \r\n                // values.password = hash.sha256().update(values.password).digest('hex')\r\n                let obj = { ...values , ...self, ...time}\r\n                self.loginUser(obj)\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator, getFieldsError, getFieldError, isFieldTouched } = this.props.form,\r\n                userNameError = isFieldTouched('username') && getFieldError('username'),\r\n                passwordError = isFieldTouched('password') && getFieldError('password')\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"login-warpper\">\r\n                    <div className=\"login-logo\">\r\n                        <svg>\r\n                            <g id=\"logo_scale\">\r\n                            <path d=\"M20.2,16.8c-1.5,0-2.7,1.2-2.7,2.7c0,1.5,1.2,2.7,2.7,2.7s2.7-1.2,2.7-2.7C22.8,17.9,21.6,16.8,20.2,16.8z\"></path>\r\n                            <path d=\"M18.7,0c-3.6,0-6.7,2.9-6.5,6.5c0,0.3,0.1,0.6,0.1,0.9c0,0.1,0,0.3,0,0.4c0,0,0,0,0,0.1c0,0.1,0,0.3,0,0.4\r\n                                c0,1.6-0.4,2.7-1.1,3.4c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1c-1.2,1.2-2.9,1.5-3.6,1.3c-0.7-0.2-1.4-0.4-2.1-0.4\r\n                                c-3,0-5.4,2.4-5.4,5.4s2.4,5.4,5.4,5.4c0.2,0,0.4,0,0.6,0c5.5-0.4,6.4,3,6.6,4.4c0,0.1,0,0.3,0,0.4c0,2,1.6,3.6,3.6,3.6\r\n                                c2,0,3.6-1.6,3.6-3.6c0-2-1.6-3.8-3.6-3.6c-0.3,0-0.7,0.1-0.7,0.1c-1.7,0.1-5-0.6-4.8-5.9c0-0.2,0-0.5,0-0.7c0,0,0,0,0,0\r\n                                c0.6-6.1,6.7-5.1,8-5.1c3.6,0,6.5-2.9,6.5-6.5C25.3,2.9,22.3,0,18.7,0z M5.4,21c-1.5,0-2.8-1.2-2.8-2.8c0-1.5,1.2-2.8,2.8-2.8\r\n                                s2.8,1.2,2.8,2.8C8.1,19.8,6.9,21,5.4,21z M16.1,26.6c0.9,0,1.7,0.8,1.7,1.7c0,0.9-0.8,1.7-1.7,1.7c-0.9,0-1.7-0.8-1.7-1.7\r\n                                S15.2,26.6,16.1,26.6z M18.7,9.9c-1.9,0-3.4-1.5-3.4-3.4c0-1.9,1.5-3.4,3.4-3.4c1.9,0,3.4,1.5,3.4,3.4C22.1,8.4,20.6,9.9,18.7,9.9z\r\n                                \"></path>\r\n                            <path d=\"M121.5,17.3c1.6-0.4,2.8-1.8,2.8-4.1c0-3.1-2.8-4.8-6-4.8c-3.9,0-6.1,2-6.3,5c0,0.1,0,0.1,0,0.2\r\n                                c0,0.4,0.3,0.8,0.8,0.8c0.4,0,0.8-0.3,0.8-0.8c0,0,0,0,0,0h0c0.2-2.2,1.8-3.7,4.8-3.7c2.4,0,4.4,1.2,4.4,3.4c0,2.3-1.4,3.5-3.9,3.5\r\n                                h-1.9v0c-0.3,0-0.6,0.3-0.6,0.6s0.3,0.6,0.6,0.6v0h0.1c0,0,0,0,0,0c0,0,0,0,0,0h1.9c2.6,0,4.3,1.1,4.3,3.7c0,2.6-2,4.1-5,4.1\r\n                                c-3.1,0-4.8-1.4-5-3.7h0c0-0.4-0.4-0.7-0.8-0.7c-0.4,0-0.7,0.3-0.8,0.7h0c0.3,3,2.5,5.1,6.6,5.1c3.8,0,6.6-2.1,6.6-5.4\r\n                                C124.9,19.3,123.5,17.6,121.5,17.3z\"></path>\r\n                            <path d=\"M134,15.1c-2.6,0-4.8,1.4-5.6,3.2c0-4,1.1-8.5,5.7-8.5c2.2,0,3.8,1,4.1,2.6h0c0.1,0.4,0.4,0.7,0.7,0.7\r\n                                c0.4,0,0.7-0.3,0.7-0.7l0-0.1c0-0.1,0,0,0-0.1c0-0.1,0-0.2-0.1-0.2c-0.6-2-2.6-3.5-5.5-3.5c-5.6,0-7.3,5.1-7.3,10.1\r\n                                c0,6.2,3.2,8.7,7.1,8.7c3.9,0,6.4-2.5,6.4-6.1C140.4,17.7,137.7,15.1,134,15.1z M133.9,25.8c-2.9,0-5.1-2.1-5.1-4.8\r\n                                c0-2.6,2.3-4.5,5.1-4.5c3,0,4.9,2,4.9,4.6C138.8,23.9,136.9,25.8,133.9,25.8z\"></path>\r\n                            <path d=\"M149.3,8.4c-4.5,0-7.4,3.6-7.4,9.4c0,5.8,2.9,9.4,7.4,9.4c4.5,0,7.4-3.6,7.4-9.4C156.7,12,153.8,8.4,149.3,8.4\r\n                                z M149.3,25.8c-3.5,0-5.8-3-5.8-7.9c0-5,2.3-7.9,5.8-7.9c3.4,0,5.8,3,5.8,7.9C155.1,22.8,152.8,25.8,149.3,25.8z\"></path>\r\n                            <path d=\"M36.4,17l-1.7-0.4c-2-0.4-3.1-0.8-3.1-2.3c0-1.3,1.2-2,2.9-2c1.7,0,2.7,0.6,3.1,1.4c0,0,0,0,0,0\r\n                                c0.1,0.2,0.2,0.4,0.4,0.6c0.4,0.4,1.1,0.5,1.7,0.3c0.2-0.1,0.4-0.2,0.6-0.3c0.5-0.4,0.7-1.1,0.5-1.7c0,0,0-0.1,0-0.1\r\n                                c-0.1-0.1-0.1-0.3-0.2-0.4c-0.9-1.7-2.8-2.8-6.1-2.8c-3.9,0-6.5,2-6.5,5.1c0,2.8,1.8,4.4,5.2,5l1.7,0.4c2.4,0.5,3,1,3,2.3\r\n                                c0,1.4-1.4,2.1-3.3,2.1c-1.8,0-2.9-0.5-3.4-1.4c0,0,0,0,0,0c-0.1-0.3-0.4-0.6-0.7-0.8c-0.4-0.2-0.9-0.3-1.3-0.2\r\n                                c-0.2,0-0.3,0.1-0.4,0.2c-0.6,0.4-1,1.1-0.8,1.9c0,0.1,0.1,0.2,0.1,0.2c0.1,0.1,0.1,0.2,0.2,0.4c1.1,1.7,3.1,2.8,6.4,2.8\r\n                                c4.4,0,7-2,7-5.3C41.6,19.2,39.8,17.6,36.4,17z\"></path>\r\n                            <path d=\"M79.4,9.7c-0.5-0.4-1.1-0.5-1.7-0.3c-0.2,0.1-0.4,0.2-0.5,0.3c-0.4,0.3-0.7,0.8-0.7,1.3v0.1V12\r\n                                c-1.4-1.6-3.4-2.7-5.9-2.7c-4.9,0-8.5,4-8.5,9c0,5.1,3.6,9,8.5,9c2.5,0,4.5-1.1,5.9-2.7V25v0.1c0,0.2,0,0.4,0.1,0.6\r\n                                c0.2,0.7,0.8,1.1,1.4,1.2c0.2,0,0.4,0,0.6,0c0.1,0,0.2,0,0.3-0.1c0.7-0.2,1.2-0.9,1.2-1.5v-0.4V11.3v-0.4c0-0.1,0-0.2-0.1-0.4\r\n                                C79.9,10.2,79.7,9.9,79.4,9.7z M71.1,24c-3,0-5.1-2.4-5.1-5.7c0-3.3,2.2-5.7,5.1-5.7c2.9,0,5.2,2.4,5.2,5.7\r\n                                C76.3,21.7,74,24,71.1,24z\"></path>\r\n                            <path d=\"M86.1,0.9h-0.5c-0.1,0-0.2,0-0.4,0.1C85.2,1,85.1,1,85,1.1c0,0-0.1,0-0.1,0.1c-0.1,0-0.1,0.1-0.2,0.1\r\n                                c0,0-0.1,0.1-0.1,0.1c-0.1,0.1-0.1,0.1-0.2,0.2c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.1-0.1,0.2c0,0,0,0,0,0.1c0,0.1-0.1,0.2-0.1,0.3\r\n                                c0,0,0,0.1,0,0.1c0,0.1,0,0.2,0,0.3c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0.1,0,0.1,0,0.2l0,0v22.2l0,0\r\n                                c0,0.2,0,0.3,0.1,0.5c0.2,0.7,0.8,1.1,1.4,1.2c0.2,0,0.5,0,0.7,0c0.1,0,0.2,0,0.2-0.1c0.7-0.2,1.2-0.9,1.3-1.6v-0.2V2.9V2.7\r\n                                c0-0.2,0-0.4-0.1-0.6C87.5,1.4,86.8,1,86.1,0.9z\"></path>\r\n                            <path d=\"M52.5,12.7c2.3,0,3.8,1.1,4.4,2.5c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n                                c0.1,0.2,0.2,0.4,0.3,0.5c0.5,0.5,1.3,0.8,2,0.5c0.3-0.1,0.6-0.3,0.8-0.5c0.4-0.4,0.6-1.1,0.4-1.7c0-0.1,0-0.1,0-0.2\r\n                                c-0.1-0.2-0.1-0.3-0.2-0.5c-1.2-2.4-3.8-4.3-7.8-4.3c-5.1,0-9,4-9,9c0,5,3.9,9,9,9c4.1,0,6.7-2,7.9-4.5c0-0.1,0.1-0.2,0.1-0.3\r\n                                c0.2-0.4,0.2-0.8,0-1.3c-0.1-0.3-0.2-0.5-0.4-0.7c-0.5-0.5-1.2-0.7-1.9-0.5c-0.3,0.1-0.5,0.3-0.7,0.5c-0.2,0.2-0.3,0.4-0.4,0.6\r\n                                c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.1c0,0,0-0.1,0-0.1c0,0,0,0,0,0c-0.6,1.4-2,2.5-4.3,2.5\r\n                                c-3.1,0-5.2-2.3-5.2-5.6C47.3,15,49.5,12.7,52.5,12.7z\"></path>\r\n                            <path d=\"M99.8,9.3c-5,0-8.7,3.9-8.7,9c0,5.2,3.7,9,8.8,9c3.4,0,5.9-1.5,7.3-3.6c0.1-0.1,0.2-0.2,0.2-0.4\r\n                                c0.1-0.2,0.1-0.4,0.1-0.7c0-0.4-0.2-0.8-0.4-1.1c-0.3-0.4-0.8-0.6-1.3-0.6c-0.5,0-1,0.3-1.3,0.6c-0.1,0.1-0.2,0.2-0.2,0.4\r\n                                c0,0.1,0,0.1-0.1,0.2c-0.6,1.2-2.1,2-4.1,2c-2.7,0-4.7-1.6-5.2-4.5h13.4c0.1-0.5,0.1-1,0.1-1.5C108.4,13.2,104.9,9.3,99.8,9.3z\r\n                                M95,16.9c0.5-2.8,2.3-4.4,4.9-4.4c2.5,0,4.4,1.6,4.8,4.4H95z\"></path>\r\n                        </g>\r\n                        </svg>\r\n                    </div>\r\n                    <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n                        <FormItem style={{ marginBottom : '14px' }} validateStatus={userNameError ? 'error' : ''} help={userNameError || ''}>\r\n                            {getFieldDecorator('username', {\r\n                                rules: [{ required: true, message: 'Please input your username!' }],\r\n                            })(\r\n                                <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\" />\r\n                            )}\r\n                        </FormItem>\r\n                        <FormItem validateStatus={passwordError ? 'error' : ''} help={passwordError || ''}>\r\n                            {getFieldDecorator('password', {\r\n                                rules: [{ required: true, message: 'Please input your Password!' }],\r\n                            })(\r\n                                <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"Password\" />\r\n                            )}\r\n                        </FormItem>   \r\n                        <Row className=\"text-center\">                                           \r\n                            <Button type=\"primary\" htmlType=\"submit\" disabled={hasErrors(getFieldsError())} className=\"login-form-button\" loading={this.state.iconLoading} onClick={this.enterIconLoading}>\r\n                                Log in\r\n                            </Button>\r\n                        </Row>\r\n                    </Form>       \r\n                    <Row className=\"version-log\">\r\n                        <small style={{ color : '#f5f5f5' }} >Scale buffet &copy; Verion 1.0.0</small>\r\n                    </Row>       \r\n                </div>\r\n                 \r\n            </div>\r\n        )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        errorMessage : state.auth.error,\r\n        loading: state.auth.loginLoad\r\n    }\r\n}\r\n\r\nLogin = Form.create()(Login)\r\nexport default connect(mapStateToProps, actions)(Login);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../actionRedux/auth'\r\n\r\nclass Logout extends React.Component {\r\n  componentWillMount() {\r\n    this.props.logoutUser(this.props)\r\n  }\r\n\r\n  render() {\r\n    return <div></div>\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(Logout);","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\n\r\n// import createHistory from 'history/createBrowserHistory'\r\n// const history = createHistory()\r\n\r\nexport default function (NextComponent) {\r\n  class Authentication extends React.Component {\r\n    componentWillMount() {\r\n      if (!this.props.authenticated) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n\r\n    componentWillUpdate(nextProps) {\r\n      if (!nextProps.authenticated) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <NextComponent {...this.props} />\r\n    }\r\n  }\r\n\r\n  Authentication.propTypes = { authenticated: PropTypes.bool };\r\n\r\n  function mapStateToProps(state) {\r\n    return { authenticated: state.auth.authenticated };\r\n  }\r\n\r\n  return connect(mapStateToProps)(Authentication);\r\n}\r\n","import React from \"react\"\r\n\r\nexport default class Page404 extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n        <div>404 , page not found</div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport App from './components/app'\r\n\r\nimport login from './components/auth/login'\r\nimport logout from './components/auth/logout'\r\nimport requireAuth from './components/auth/RequireAuth'\r\nimport Page404 from './components/auth/404'\r\n\r\nexport default class Routes extends React.Component {\r\n  render() {\r\n    return(\r\n      <div>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={login} />\r\n          <Route exact path=\"/logout\" component={logout} />\r\n          <Route path=\"/control\" component={requireAuth(App)} />\r\n          <Route component={Page404} />\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}","import { combineReducers } from 'redux'\r\nimport authReducer from './authReducer'\r\n\r\nimport userReducer from './userReducer'\r\nimport promotions from './promotions'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  user: userReducer,\r\n  promotions: promotions\r\n})\r\n\r\nexport default rootReducer\r\n","import {\r\n  LOGIN_FAILURE,\r\n  AUTH_USER,\r\n  UNAUTH_USER,\r\n  LOGIN_LOADING,\r\n} from '../../actionRedux/types/index'\r\n\r\nexport default function(state = {}, action) {\r\n  switch(action.type) {\r\n    case LOGIN_FAILURE:\r\n      return { ...state, error: { login: action.payload } }\r\n    case AUTH_USER:\r\n      return { ...state, authenticated: true, error: {} }\r\n    case UNAUTH_USER:\r\n      return { ...state, authenticated: false, error: {} }\r\n    case LOGIN_LOADING:\r\n      return { ...state, loginLoad : action.payload }\r\n    default: \r\n  }\r\n  return state\r\n}","import {\r\n  FETCH_USERS,\r\n} from '../../actionRedux/types/index'\r\n\r\nexport default function(state = {}, action) {\r\n  switch(action.type) {\r\n    case FETCH_USERS:\r\n      return { list: action.payload, ...state }\r\n    default: // do nothing\r\n  }\r\n\r\n  return state\r\n}","import {\r\n  FETCH_PROMOTIONS,\r\n  ADD_PROMOTIONS,\r\n  EDIT_PROMOTIONS,\r\n  DEL_PROMOTIONS,\r\n  SHOW_MODAL_PROMOTIONS,\r\n  HIDE_MODAL_PROMOTIONS,\r\n} from '../../actionRedux/types/index'\r\n\r\nexport default function(state = {}, action) {\r\n  switch(action.type) {\r\n    case FETCH_PROMOTIONS:\r\n      return { ...state, data: action.payload }\r\n    case ADD_PROMOTIONS:\r\n      return { ...state, data: action.payload }\r\n    case EDIT_PROMOTIONS:\r\n      return { ...state, data: action.payload }\r\n    case DEL_PROMOTIONS:\r\n      return { ...state, data: action.payload }\r\n    case SHOW_MODAL_PROMOTIONS:\r\n      return { ...state, visible: action.payload }\r\n    case HIDE_MODAL_PROMOTIONS:\r\n      return { ...state, visible: action.payload }\r\n    default: \r\n  }\r\n  return state\r\n}","import { applyMiddleware, createStore } from 'redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport reducer from \"./reducers/user/index\"\r\n    \r\nconst middleware = [thunk]\r\nif (process.env.NODE_ENV !== 'production') {\r\n    middleware.push(createLogger())\r\n}\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    applyMiddleware(...middleware)\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nimport Routes from './routes'\r\nimport store from './store'\r\nimport './static/style/bundle.scss'\r\n\r\nimport { AUTH_USER } from './actionRedux/types/index'\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\n\r\nif (user && user.token) {\r\n  store.dispatch({ type: AUTH_USER });\r\n}\r\n\r\nconst DOM = document.getElementById('content-root')\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n        <Routes />\r\n    </BrowserRouter>\r\n  </Provider>, DOM\r\n)\r\nserviceWorker.unregister()"],"sourceRoot":""}